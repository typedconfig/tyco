<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>TypedConfig</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
    }

    .banner {
      position: sticky;
      top: 0;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      padding: 0.5rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 100;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .brand {
      display: flex;
      align-items: baseline;
      gap: 0;
      font-size: 1.75rem;
      font-weight: 700;
      color: #111827;
      text-decoration: none;
    }

    .brand-ty,
    .brand-co {
      color: #1e6fff;
    }

    .brand-ped,
    .brand-nfig {
      color: #111827;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .spec-selector {
      padding: 0.5rem 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      background: #ffffff;
      color: #374151;
      font-size: 0.875rem;
      cursor: pointer;
      outline: none;
      transition: border-color 0.2s;
    }

    .spec-selector:hover {
      border-color: #1e6fff;
    }

    .spec-selector:focus {
      border-color: #1e6fff;
      box-shadow: 0 0 0 3px rgba(30, 111, 255, 0.1);
    }

    .gh-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: #111827;
      color: #ffffff;
      text-decoration: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
      transition: background 0.2s;
    }

    .gh-link:hover {
      background: #1f2937;
    }

    .gh-icon {
      width: 20px;
      height: 20px;
    }

    .spec-wrap {
      max-width: 1200px;
      margin: 0 auto 0 0;
      padding: 2rem 1.5rem 2rem 1rem;
      display: flex;
      gap: 1rem;
    }

    .spec-sidebar {
      width: auto;
      flex-shrink: 0;
      position: sticky;
      top: 80px;
      align-self: flex-start;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
      padding: 0;
    }

    .spec-sidebar h3 {
      display: none;
    }

    .spec-sidebar nav {
      display: flex;
      flex-direction: column;
      gap: 0.125rem;
      margin: 0;
    }

    .spec-sidebar a {
      color: #4b5563;
      text-decoration: none;
      padding: 0.375rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8125rem;
      transition: all 0.2s;
      border-left: 2px solid transparent;
      white-space: nowrap;
    }

    .spec-sidebar a:hover {
      background: #f3f4f6;
      color: #1e6fff;
      border-left-color: #1e6fff;
    }

    .spec-sidebar a.active {
      background: #eff6ff;
      color: #1e6fff;
      border-left-color: #1e6fff;
      font-weight: 500;
    }

    .spec-content {
      flex: 1;
      max-width: 800px;
    }

    @media (max-width: 768px) {
      .spec-wrap {
        flex-direction: column;
      }

      .spec-sidebar {
        display: none;
      }
    }

    .spec-content h1 {
      margin-bottom: 1.5rem;
      color: #111827;
    }

    .spec-content h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      color: #111827;
    }

    .spec-content p {
      margin-bottom: 1rem;
      color: #4b5563;
    }

    .spec-content ul {
      margin-bottom: 1rem;
      padding-left: 1.5rem;
      color: #4b5563;
    }

    .spec-content li {
      margin-bottom: 0.5rem;
    }

    .spec-content code {
      background: #f3f4f6;
      padding: 0.125rem 0.375rem;
      border-radius: 3px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 0.875em;
      color: #1e6fff;
    }

    .spec-content pre {
      background: #0f1419;
      color: #e5e7eb;
      padding: 1.25rem;
      border-radius: 8px;
      overflow-x: auto;
      margin-bottom: 1rem;
    }

    .spec-content pre code {
      background: transparent;
      padding: 0;
      color: inherit;
    }

    .tok-key { color: #73b2ff; font-weight: 600; }
    .tok-string { color: #7ad98a; }
    .tok-comment { color: #6b8aa2; font-style: italic; }
    .tok-number { color: #ffb86b; }
  </style>
</head>
<body>
  <header class="banner">
    <a href="index.html" class="brand">
      <span class="brand-ty">Ty</span><span class="brand-ped">ped</span> <span class="brand-co">Co</span><span class="brand-nfig">nfig</span>
    </a>
    
    <nav class="nav-actions">
      <select class="spec-selector" id="spec-version" aria-label="Spec Version">
        <option value="">Spec</option>
        <option value="0.1.0" selected>v0.1.0</option>
      </select>
      
      <a href="https://github.com/typedconfig/tyco" class="gh-link" target="_blank" rel="noopener" aria-label="View on GitHub">
        <svg class="gh-icon" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.1 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.09.16 1.9.08 2.1.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38C13.71 14.53 16 11.54 16 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>
    </nav>
  </header>

  <div class="spec-wrap">
    <aside class="spec-sidebar">
      <h3>Quick Links</h3>
      <nav>
        <a href="#overview">Overview</a>
        <a href="#goals">Goals</a>
        <a href="#features">Key Features</a>
        <a href="#lexical">Lexical Elements</a>
        <a href="#types">Types & Values</a>
        <a href="#grammar">Grammar</a>
        <a href="#examples">Examples</a>
      </nav>
    </aside>
    <div class="spec-content">
      <h1 id="overview">Specification â€” v0.1.0</h1>
      <p>Tyco is an explicitly-typed configuration language designed for readable, auditable, and unambiguous configuration files. It favors explicit type declarations, flat composition, and predictable parsing. Tyco aims to suit large configuration systems, terminal workflows, and engineers who prefer clarity and stability in configuration.</p>

      <h2 id="goals">Goals</h2>
  <ul>
    <li>Explicit typing: types are declared, not inferred from values.</li>
    <li>Human-first: pleasant to read and edit in a terminal or editor.</li>
    <li>Deterministic parsing: every token maps to a clear type.</li>
    <li>Composable and DRY: favor composition and normalization over deep nesting and repetition.</li>
    <li>Tooling-friendly: easy to lint, validate, and map to native objects with file/line attribution.</li>
  </ul>

      <h2 id="features">Key features</h2>
  <ul>
    <li>Explicit type annotations (e.g. <code>int(42)</code>, <code>date("2025-01-01")</code>).</li>
    <li>Comments (line <code># ...</code>, block <code>/* ... */</code>).</li>
    <li><code>#include</code> support for shared fragments (implementation optional).</li>
    <li>References between objects and attributes (named instances &amp; references).</li>
    <li>Support for directory layouts and multi-file projects.</li>
    <li>Built-in linting and validation for missing/typoed attributes and type mismatches.</li>
    <li>Minimal indentation rules: whitespace groups values; no deep brace nesting by default.</li>
    <li>Optional templating and lazy evaluation for computed attributes.</li>
  </ul>

    <h2 id="lexical">Lexical elements</h2>
  <ul>
    <li><strong>Identifiers</strong>: `/[A-Za-z_][A-Za-z0-9_-]*/`</li>
    <li><strong>Strings</strong>: double-quoted; standard escapes supported</li>
    <li><strong>Integers</strong>: digits, optionally prefixed for hex/octal as implementation-defined</li>
    <li><strong>Floats</strong>: digits with decimal point</li>
    <li><strong>Booleans</strong>: <code>true</code>, <code>false</code></li>
    <li><strong>Comments</strong>: line comments with <code>#</code>, block comments <code>/* ... */</code></li>
  </ul>

    <h2 id="types">Types & values</h2>
  <p>Values are either literals, collections, or annotated expressions. Annotation form: <code>type(value)</code>.</p>
  <ul>
    <li>Literals: strings, ints, floats, booleans.</li>
    <li>Arrays: <code>[ value, value, ... ]</code></li>
    <li>Maps: <code>{ key: value, ... }</code></li>
    <li>Optional/null types: indicated with a <code>?</code> suffix on the type (e.g. <code>int?(null)</code>), and the literal <code>null</code> represents absence.</li>
  </ul>

    <h2 id="grammar">Grammar (concise)</h2>
  <pre><code><span class="tok-key">document</span>   = { <span class="tok-key">statement</span> }
<span class="tok-key">statement</span>  = <span class="tok-key">pair</span> | <span class="tok-key">comment</span> | <span class="tok-key">instance</span>
<span class="tok-key">pair</span>       = <span class="tok-key">key</span> ':' <span class="tok-key">value</span>
<span class="tok-key">instance</span>   = <span class="tok-key">type_decl</span> '\n' { <span class="tok-key">item</span> }
<span class="tok-key">type_decl</span>  = <span class="tok-key">identifier</span> ':' [ <span class="tok-key">type_spec</span> ]
<span class="tok-key">key</span>        = <span class="tok-key">identifier</span> | <span class="tok-string">string</span>
<span class="tok-key">value</span>      = <span class="tok-key">annotated</span> | <span class="tok-key">literal</span> | <span class="tok-key">array</span> | <span class="tok-key">map</span> | <span class="tok-key">reference</span>
<span class="tok-key">annotated</span>  = <span class="tok-key">identifier</span> '(' <span class="tok-key">value</span> ')'
<span class="tok-key">literal</span>    = <span class="tok-string">string</span> | <span class="tok-key">integer</span> | <span class="tok-key">float</span> | <span class="tok-key">boolean</span> | <span class="tok-key">null</span>
<span class="tok-key">array</span>      = '[' [ <span class="tok-key">value</span> { ',' <span class="tok-key">value</span> } ] ']'
<span class="tok-key">map</span>        = '{' [ <span class="tok-key">pair</span> { ',' <span class="tok-key">pair</span> } ] '}'
<span class="tok-key">reference</span>  = '*' <span class="tok-key">identifier</span>
</code></pre>

    <h2 id="examples">Examples</h2>
  <pre><code><span class="tok-comment"># users</span>
<span class="tok-key">User</span>:
  <span class="tok-key">name</span>: <span class="tok-key">str</span>
  <span class="tok-key">type</span>: <span class="tok-key">str</span>
  <span class="tok-key">permissions</span>: <span class="tok-key">int</span>
  - <span class="tok-key">name</span>: <span class="tok-string">"nypr1"</span>, <span class="tok-key">type</span>: <span class="tok-string">"production"</span>, <span class="tok-key">permissions</span>: <span class="tok-number">0x00f1d</span>
  - <span class="tok-key">name</span>: <span class="tok-string">"nydv1"</span>, <span class="tok-key">type</span>: <span class="tok-string">"dev"</span>, <span class="tok-key">permissions</span>: <span class="tok-number">0x00aaa</span>
</code></pre>

      <p>Further sections: references, includes, templating, and validation rules can be expanded in later revisions.</p>
    </div>
  </div>

  <script>
    // Handle spec version selection
    document.getElementById('spec-version').addEventListener('change', function(e) {
      const version = e.target.value;
      if (version) {
        window.location.href = `v${version}.html`;
      }
    });

    // Highlight active section in sidebar as user scrolls
    const sections = document.querySelectorAll('h1[id], h2[id]');
    const navLinks = document.querySelectorAll('.spec-sidebar a');

    function updateActiveLink() {
      let currentSection = '';
      
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        if (window.scrollY >= sectionTop) {
          currentSection = section.getAttribute('id');
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${currentSection}`) {
          link.classList.add('active');
        }
      });
    }

    window.addEventListener('scroll', updateActiveLink);
    updateActiveLink(); // Set initial active state
  </script>
</body>
</html>
